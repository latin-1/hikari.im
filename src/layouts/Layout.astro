---
import ChevronLeftIcon from "../components/icons/ChevronLeftIcon.astro";
import BaseLayout from "./BaseLayout.astro";

const {
  title,
  backLink = {
    label: "Home",
    href: "/",
  },
} = Astro.props;
---

<style>
  .container {
    max-width: 45rem;
    margin: 0 auto;
    padding: 0 3rem;
  }

  .header {
    position: relative;
    margin: 4.5rem 0 3rem;
  }

  .back-link {
    position: absolute;
    left: 0;
    bottom: calc(100% + 0.75rem);
    display: grid;
    grid-template-columns: auto 1fr;
    align-items: center;
    width: fit-content;
    height: 1.5rem;
    margin: -0.5rem -1rem -0.5rem -0.5rem;
    padding: 0.5rem 1rem 0.5rem 0.5rem;
    border-radius: 1.25rem;
    text-decoration: none;
    color: var(--color-primary-600);
    transition:
      background-color 0.1s,
      transform 0.1s;

    @media (hover: hover) {
      &:hover {
        background-color: rgb(from var(--color-primary-600) r g b / 0.1);
      }
    }

    &:active {
      background-color: rgb(from var(--color-primary-600) r g b / 0.1);
      transform: scale(0.95);
      transition: transform 0.1s;
    }
  }

  .title {
    margin: 0;
    font-size: 3rem;
    font-weight: 600;
    text-align: center;
  }

  .footer {
    margin: 3rem 0;
  }

  .copyright {
    margin: 0.5rem 0;
    text-align: center;
    color: var(--color-neutral-600);
  }

  .copyright-link {
    margin: -0.25rem;
    padding: 0.25rem;
    border-radius: 0.25rem;
    text-decoration: underline;
    color: currentColor;
    transition:
      color 0.1s,
      background-color 0.1s;

    @media (hover: hover) {
      &:hover {
        color: var(--color-primary-600);
        background-color: rgb(from var(--color-primary-600) r g b / 0.1);
      }
    }

    &:active {
      color: var(--color-primary-600);
      background-color: rgb(from var(--color-primary-600) r g b / 0.1);
      transition: none;
    }
  }
</style>

<BaseLayout title={title}>
  <div class="container">
    <header class="header">
      {
        Astro.url.pathname !== "/" && (
          <a class="back-link" href={backLink.href}>
            <ChevronLeftIcon class="back-icon" />
            <span class="back-label">{backLink.label}</span>
          </a>
        )
      }
      <h1 class="title">{title ?? "Hikari Hayashi"}</h1>
    </header>
    <slot />
    <footer class="footer">
      <p class="copyright">Copyright Â© Hikari Hayashi</p>
      <p class="copyright">
        Social icons by
        <a
          class="copyright-link"
          href="https://icons8.com/"
          target="_blank"
          rel="noreferrer"
        >
          Icons8
        </a>
      </p>
    </footer>
  </div>
</BaseLayout>
