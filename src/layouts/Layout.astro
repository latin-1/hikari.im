---
import ChevronLeftIcon from "../components/icons/ChevronLeftIcon.astro";
import BaseLayout from "./BaseLayout.astro";

const {
  title,
  backLink = {
    label: "Home",
    href: "/",
  },
} = Astro.props;
---

<style>
  .container {
    max-width: 45rem;
    margin: 0 auto;
    padding: 0 3rem;
  }

  .header {
    position: relative;
    margin: 6rem 0 3rem;
  }

  .back-link {
    position: absolute;
    left: 0;
    bottom: 100%;
    display: grid;
    grid-template-columns: auto 1fr;
    align-items: center;
    width: fit-content;
    height: 1.5rem;
    margin: 0 -0.5rem;
    padding: 0.5rem;
    border-radius: 1.25rem;
    text-decoration: none;
    color: var(--color-primary-600);
    transition:
      background-color 0.1s,
      transform 0.1s;

    @media (hover: hover) {
      &:hover {
        background-color: rgb(from var(--color-primary-600) r g b / 0.1);
      }
    }

    &:active {
      background-color: rgb(from var(--color-primary-600) r g b / 0.1);
      transform: scale(0.95);
    }
  }

  .back-label {
    padding-right: 0.5rem;
  }

  .title {
    margin: 0;
    font-size: 3rem;
    font-weight: 600;
    text-align: center;
  }

  .footer {
    margin: 3rem 0;
  }

  .copyright {
    margin: 0;
    text-align: center;
    color: var(--color-neutral-600);
  }
</style>

<BaseLayout title={title}>
  <div class="container">
    <header class="header">
      {
        Astro.url.pathname !== "/" && (
          <a class="back-link" href={backLink.href}>
            <ChevronLeftIcon class="back-icon" />
            <span class="back-label">{backLink.label}</span>
          </a>
        )
      }
      <h1 class="title">{title ?? "Hikari Hayashi"}</h1>
    </header>
    <slot />
    <footer class="footer">
      <p class="copyright">Copyright Â© Hikari Hayashi</p>
    </footer>
  </div>
</BaseLayout>
